<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Manually Set Beamcenter Window &mdash; pydidas</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../_static/_css/pydidas-custom.css?v=7afb26e6" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=853907ea"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Select integration region window" href="SelectIntegrationRegionWindow.html" />
    <link rel="prev" title="Show Detailed Plugin Results window" href="ShowDetailedPluginResultsWindow.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #4444AA" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            pydidas
              <img src="../../../_static/pydidas_snakes_circ_bg.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                "24.06.05"
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../quickstart.html">Pydidas quick-start guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../manuals.html">Manuals</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../commandline.html">Command line manuals</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../graphical_user_interface.html">Graphical user interface</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../graphical_user_interface.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../graphical_user_interface.html#the-ui-state">The UI state</a></li>
<li class="toctree-l3"><a class="reference internal" href="../graphical_user_interface.html#generic-gui-information">Generic GUI information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../graphical_user_interface.html#frames">Frames</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../graphical_user_interface.html#windows">Windows</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="ImageSeriesOperationsWindow.html">Image series operations window</a></li>
<li class="toctree-l4"><a class="reference internal" href="MaskEditorWindow.html">Mask editor window</a></li>
<li class="toctree-l4"><a class="reference internal" href="ExportEigerPixelmaskWindow.html">Export Eiger pixel mask window</a></li>
<li class="toctree-l4"><a class="reference internal" href="_UserConfigWindow.html">The User config window</a></li>
<li class="toctree-l4"><a class="reference internal" href="_GlobalSettingsWindow.html">The Global settings window</a></li>
<li class="toctree-l4"><a class="reference internal" href="TweakPluginParameterWindow.html">Tweak Plugin Parameters window</a></li>
<li class="toctree-l4"><a class="reference internal" href="ShowDetailedPluginResultsWindow.html">Show Detailed Plugin Results window</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Manually Set Beamcenter Window</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#image-display">Image display</a></li>
<li class="toctree-l5"><a class="reference internal" href="#point-list-and-controls">Point list and controls</a></li>
<li class="toctree-l5"><a class="reference internal" href="#controls">Controls</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="SelectIntegrationRegionWindow.html">Select integration region window</a></li>
<li class="toctree-l4"><a class="reference internal" href="../frames/CompositeCreatorFrame.html">Composite image creator frame</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../graphical_user_interface.html#recipes">Recipes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../code/code_documentation.html">Code documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer_guide.html">Developer guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #4444AA" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pydidas</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../manuals.html">Manuals</a></li>
          <li class="breadcrumb-item"><a href="../graphical_user_interface.html">Graphical user interface</a></li>
      <li class="breadcrumb-item active">Manually Set Beamcenter Window</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/manuals/gui/windows/ManuallySetBeamcenterWindow.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="manually-set-beamcenter-window">
<span id="id1"></span><h1>Manually Set Beamcenter Window<a class="headerlink" href="#manually-set-beamcenter-window" title="Link to this heading"></a></h1>
<p>The <em>Manually set beamcenter window</em> allows to select the beamcenter in
detector pixel coordinates, either by setting the pixel position directly or by
using a graphical interface. The functionality is limited in the sense that a
perfect detector orientation is assumed (i.e. all rotations are zero) and it is
not possible to optimize rotations. If that is required, please perform a full
calibration.</p>
<a class="reference internal image-reference" href="../../../_images/set_bc_overview.png"><img alt="../../../_images/set_bc_overview.png" class="align-center" src="../../../_images/set_bc_overview.png" style="width: 600px;" /></a>
<p>The left side offers controls, the central panel is a list to view and edit
points selected in an image and am image plot is shown on the right.</p>
<section id="image-display">
<h2>Image display<a class="headerlink" href="#image-display" title="Link to this heading"></a></h2>
<p>The image display is a <a class="reference internal" href="../silx/plots.html#plot-plot2d"><span class="std std-ref">PydidasPlot2d</span></a> with all the
functionality described in the linked description. In addition, clicking with
the left mouse buttons allows to store the selected positions. Points are
visualized by different symbols, as explained below.</p>
<table class="tight-table docutils align-default">
<colgroup>
<col style="width: 5.0%" />
<col style="width: 95.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>point symbol</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><img alt="../../../_images/bc_point.png" class="align-center" src="../../../_images/bc_point.png" />
</td>
<td><p>A generic <strong>x</strong> marker to signal that this point has been stored.</p></td>
</tr>
<tr class="row-odd"><td><img alt="../../../_images/bc_selected_point.png" class="align-center" src="../../../_images/bc_selected_point.png" />
</td>
<td><p>Selected points are highlighted with a filled circle.</p></td>
</tr>
<tr class="row-even"><td><img alt="../../../_images/bc_center.png" class="align-center" src="../../../_images/bc_center.png" />
</td>
<td><p>The beamcenter is marker with a diamond-shaped marker.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="point-list-and-controls">
<h2>Point list and controls<a class="headerlink" href="#point-list-and-controls" title="Link to this heading"></a></h2>
<p>Located at the top are controls for how to select points and for the overlay
color.</p>
<p>The <em>Use 2 click point selection</em> toggles how points are selected in the image:</p>
<blockquote>
<div><ul>
<li><p>Disabled 2-click point selection:</p>
<p>If disabled, points will be selected directly with a single click in the
image. This requires the user to manually zoom in to select points with
high accuracy.</p>
</li>
<li><p>Enabled 2-click point selection:</p>
<p>When enabled, clicking on a point in the image will zoom in on the selected
point to allow a higher degree of precision for the point selection.
The second click will select the point and reset the zoom to the previous
settings.</p>
</li>
</ul>
</div></blockquote>
<p>The second item is a configuration widget to change the color of all the plot
overlay items like the points to increase the contrast, depending on the chosen
colormap for the image. Changing the color in the drop-down selection will
automatically update the color in all overlay items.</p>
<p>The point list displays the positions of all clicked points. Left-clicking on
a point in the list will select this point and also highlight it in the image
by changing the marker. Multiple points can be selected by holding
<code class="xref py py-data docutils literal notranslate"><span class="pre">Shift</span></code> when selecting the second point to select all points inbetween
or by holding <code class="xref py py-data docutils literal notranslate"><span class="pre">Ctrl</span></code> while selecting points to add only single points
to the selection. All selected points will be highlighted in the image.</p>
<p>The two buttons at the bottom of the point list allow to delete the current
selection of points or all points. The current selection of points can also be
deleted by pressing <code class="xref py py-data docutils literal notranslate"><span class="pre">Del</span></code> while the plot list has the focus.</p>
</section>
<section id="controls">
<h2>Controls<a class="headerlink" href="#controls" title="Link to this heading"></a></h2>
<section id="file-input">
<h3>File input<a class="headerlink" href="#file-input" title="Link to this heading"></a></h3>
<p>The input file can be selected in any one of four ways:</p>
<img alt="../../../_images/input.png" class="align-left" src="../../../_images/input.png" />
<ol class="arabic simple">
<li><p>Use the “Select image file” button at the top.</p></li>
<li><p>Enter the full file path in the input field.</p></li>
<li><p>Use the small “open” button right of the input field.</p></li>
<li><p>Drag and drop a file from the system’s file explorer.</p></li>
</ol>
<img alt="../../../_images/input_hdf5.png" class="align-right" src="../../../_images/input_hdf5.png" />
<p>If the filename is valid, the selected file will be displayed immediately.</p>
<p>For hdf5 files, however, you need to select data the dataset and frame number
first and confirm the selection with the “Confirm input selection” button before
any frame is loaded and displayed.</p>
<p>After loading an image, the current integration region is shown as an overlay.
By default,the overlay is orange and will cover the full image (because the full
detector is used by default).</p>
</section>
<section id="beamcenter-selection">
<h3>Beamcenter selection<a class="headerlink" href="#beamcenter-selection" title="Link to this heading"></a></h3>
<img alt="../../../_images/set_bc_controls.png" class="align-left" src="../../../_images/set_bc_controls.png" />
<p>The beamcenter position (in detector pixel coordinates) can be set directly,
if it is known.</p>
<p>The following control buttons are availabe:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Set selected point as beamcenter</strong>: This button requires to have marked
exactly one point in the image. Clicking this button will take that point’s
coordinates as the new beamcenter. Note that the list of points must have
exactly one entry, not one selected entry.</p></li>
<li><p><strong>Fit beamcenter with circle</strong>: All points in the list will be used as
coordinates to fit a circle. The center will be taken as new beamcenter and
the fitted circle will be shown as overlay in the image.</p></li>
<li><p><strong>Fit beamcenter with ellipse</strong>: Similar to the button above, but an ellipse
instead of a circle is used to find the beamcenter. Fitting an ellipse
requires selecting at least 5 points on the circumference.</p></li>
</ul>
</div></blockquote>
<p>The last button at the bottom, “Comfirm selected beamcenter” will close the
window and convert the selected beamcenter to pyFAI PONI coordinates and update
the DiffractionExperiment.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ShowDetailedPluginResultsWindow.html" class="btn btn-neutral float-left" title="Show Detailed Plugin Results window" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="SelectIntegrationRegionWindow.html" class="btn btn-neutral float-right" title="Select integration region window" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 - 2024, Helmholtz-Zentrum Hereon.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XXXXXXXXXX', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>